(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{DHRE:function(t,n,e){"use strict";e.r(n),e.d(n,"MainProjectPageModule",function(){return v});var o=e("ofXK"),i=e("3Pt+"),c=e("TEn/"),s=e("tyNb"),r=e("mrSG"),a=e("ZX4M"),l=e("CLuO"),p=e("fXoL"),b=e("NyCC"),d=e("YbYh"),g=e("K2vf");function u(t,n){1&t&&p.Nb(0,"ion-progress-bar",12)}function h(t,n){if(1&t&&(p.Pb(0,"p",22),p.tc(1),p.Ob()),2&t){const t=p.bc().$implicit;p.Ab(1),p.vc("Connected to ",t.fbpage_name,"")}}const m=function(){return["/t"]};function f(t,n){if(1&t){const t=p.Qb();p.Pb(0,"ion-col",2),p.Pb(1,"div",13),p.Pb(2,"div",14),p.Pb(3,"div",15),p.Nb(4,"img",16),p.Ob(),p.Pb(5,"div",6),p.Pb(6,"p",7),p.tc(7),p.Ob(),p.sc(8,h,2,1,"p",17),p.Ob(),p.Ob(),p.Ob(),p.Pb(9,"ion-buttons",18),p.Pb(10,"ion-button",19),p.Xb("click",function(e){p.mc(t);const o=n.$implicit;return p.bc().onClickItemMenu(o,e)}),p.Nb(11,"ion-icon",20),p.Ob(),p.Ob(),p.Pb(12,"ion-button",21),p.Xb("click",function(){p.mc(t);const e=n.$implicit;return p.bc().onConnect(e)}),p.tc(13,"Connect"),p.Ob(),p.Ob()}if(2&t){const t=n.$implicit;p.Ab(1),p.gc("routerLink",p.jc(7,m))("queryParams",t),p.Ab(3),p.qc(null!=t.fbpage_img?"":"padding : 10px;"),p.gc("src",null!=t.fbpage_img?t.fbpage_img:"data:image/png;base64,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",p.nc),p.Ab(3),p.uc(t.name),p.Ab(1),p.gc("ngIf",t.fbpage_name)}}const P=function(){return["/c"]};let O=(()=>{class t{constructor(t,n,e,o,i,c,s,r,a){this.router=t,this.splCtrl=n,this.loadingController=e,this.popCtrl=o,this.modalController=i,this.alertController=c,this.toast=s,this.route=r,this.cusHttp=a,this.projects=new Array,this.isLoading=!1,this.nextPage="",r.url.subscribe(t=>{this.splCtrl.show(),this.initProjects()})}ngOnInit(){}initProjects(){this.cusHttp.get("project/list").subscribe(t=>{this.splCtrl.dismiss(),console.log(t),this.nextPage=t.nextPage,0!=t.data.length&&(this.projects=t.data)},t=>{this.toast.presentToast(this.cusHttp.httpErrRes(t))})}loadData(t){""!=this.nextPage?this.cusHttp.get(this.nextPage).subscribe(n=>{t.target.complete(),this.nextPage=n.nextPage,console.log(n),0!=n.data.length&&(this.projects=this.projects.concat(n.data))},t=>{console.log(t),this.toast.presentToast(this.cusHttp.httpErrRes(t))}):t.target.complete()}onConnect(t){return Object(r.a)(this,void 0,void 0,function*(){const n=yield this.modalController.create({component:l.a,backdropDismiss:!1,componentProps:{project_id:t.project_id}});yield n.present(),yield n.onDidDismiss().then(t=>{const n=t.data;console.log(n),n&&n.isConnect&&this.initProjects()})})}onClickItemMenu(t,n){return Object(r.a)(this,void 0,void 0,function*(){console.log(t);const e=yield this.popCtrl.create({component:a.a,event:n,componentProps:{buttons:["Duplicate","Rename","Delete"]}});yield e.present(),e.onDidDismiss().then(n=>Object(r.a)(this,void 0,void 0,function*(){console.log(n);const e=n.data;if(e)switch(console.log(e),e.name){case"Duplicate":var o=yield this.alertController.create({header:"Duplicate",message:"Do you want to <strong>duplicate</strong> this project?",buttons:[{text:"Cancel"},{text:"Yes",handler:()=>Object(r.a)(this,void 0,void 0,function*(){var n=yield this.loadingController.create({message:"Please wait ...."});yield n.present(),this.cusHttp.post("project/delete?project_id="+t.project_id,{}).subscribe(e=>Object(r.a)(this,void 0,void 0,function*(){n.dismiss(),this.projects.splice(this.projects.indexOf(t),1)}),t=>Object(r.a)(this,void 0,void 0,function*(){this.toast.presentToast(this.cusHttp.httpErrRes(t))}))})}]});yield o.present();break;case"Rename":const n=yield this.alertController.create({cssClass:"alert-input",header:"Project name",inputs:[{type:"text",name:"newname",id:"txt1",value:t.name,placeholder:"New name"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{console.log(t)}},{text:"rename",handler:n=>Object(r.a)(this,void 0,void 0,function*(){const e=n.newname;if(e!=t.name){var o=yield this.loadingController.create({message:"Please wait ...."});yield o.present(),this.cusHttp.put(`project/rename?project_id=${t.project_id}&name=${e}`,{}).subscribe(n=>Object(r.a)(this,void 0,void 0,function*(){o.dismiss(),Object.assign(t,{name:e}),console.log(t)}),t=>Object(r.a)(this,void 0,void 0,function*(){this.toast.presentToast(this.cusHttp.httpErrRes(t))}))}})}]});yield n.present();break;case"Delete":o=yield this.alertController.create({header:"Delete",message:"Do you want to <strong>delete</strong> this project?",buttons:[{text:"Cancel"},{text:"Yes",handler:()=>Object(r.a)(this,void 0,void 0,function*(){var n=yield this.loadingController.create({message:"Please wait ...."});yield n.present(),this.cusHttp.del("project/delete?project_id="+t.project_id).subscribe(e=>Object(r.a)(this,void 0,void 0,function*(){n.dismiss(),this.projects.splice(this.projects.indexOf(t),1)}),t=>Object(r.a)(this,void 0,void 0,function*(){this.toast.presentToast(this.cusHttp.httpErrRes(t))}))})}]}),yield o.present()}}))})}onBlankProj(){return Object(r.a)(this,void 0,void 0,function*(){var t=yield this.loadingController.create({message:"Please wait ...."});yield t.present(),this.cusHttp.post("project/create",{}).subscribe(n=>Object(r.a)(this,void 0,void 0,function*(){yield t.dismiss(),console.log(n),this.projects.unshift(n)}),n=>Object(r.a)(this,void 0,void 0,function*(){yield t.dismiss(),this.toast.presentToast(this.cusHttp.httpErrRes(n))}))})}}return t.\u0275fac=function(n){return new(n||t)(p.Mb(s.g),p.Mb(b.b),p.Mb(c.G),p.Mb(c.K),p.Mb(c.H),p.Mb(c.a),p.Mb(d.a),p.Mb(s.a),p.Mb(g.a))},t.\u0275cmp=p.Gb({type:t,selectors:[["app-list-project"]],decls:21,vars:4,consts:[["type","indeterminate",4,"ngIf"],[1,"content"],["size","12","size-sm","12","size-md","auto","size-lg","auto"],[1,"c-blank-proj","blank-color",3,"click"],[1,"c-blank-proj1"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAAABmJLR0QA/wD/AP+gvaeTAAAAyElEQVRoge3asQ3CQBBE0TlE5AbcAzGl0As1uBc6MTE9uAHSJSEwhwOCu0Vj/ZdhWYy+ZCcnSwAylYyRiLhIGleXllLKLWO7u4iY49OcsXvIGPkX4lwR54o4V8S5Is4Vca6Ic0WcK+JcfR0QvQ9zro13TpKG1e+npEfjjak+dDpu3DRKOjcerg0dNsb6wq4fy13HbT2Wi6R7452Md25p/H+/4VC2A+JcEeeKOFfEuSLOFXGuiHNFnCviXG0dEPUwqfpqL2kXQKIXHpE6Lr3ozeoAAAAASUVORK5CYII="],[1,"txt"],[1,"title"],[1,"c-blank-proj","template-color",3,"routerLink"],["size","12","size-sm","12","size-md","auto","size-lg","auto",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],["type","indeterminate"],[1,"c-blank-proj",3,"routerLink","queryParams"],[1,"c-proj"],[1,"profile"],[3,"src"],["class","desc",4,"ngIf"],[1,"btn-item-menu"],[3,"click"],["name","ellipsis-vertical-circle-outline","slot","icon-only"],["fill","outline","color","dark",1,"btn-connect",3,"click"],[1,"desc"]],template:function(t,n){1&t&&(p.sc(0,u,1,0,"ion-progress-bar",0),p.Pb(1,"ion-content"),p.Pb(2,"div",1),p.Pb(3,"ion-row"),p.Pb(4,"ion-col",2),p.Pb(5,"div",3),p.Xb("click",function(){return n.onBlankProj()}),p.Pb(6,"div",4),p.Nb(7,"img",5),p.Pb(8,"div",6),p.Pb(9,"p",7),p.tc(10,"Blank project"),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(11,"ion-col",2),p.Pb(12,"div",8),p.Pb(13,"div",4),p.Nb(14,"img",5),p.Pb(15,"div",6),p.Pb(16,"p",7),p.tc(17,"Create from template"),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.sc(18,f,14,8,"ion-col",9),p.Ob(),p.Ob(),p.Pb(19,"ion-infinite-scroll",10),p.Xb("ionInfinite",function(t){return n.loadData(t)}),p.Nb(20,"ion-infinite-scroll-content",11),p.Ob(),p.Ob()),2&t&&(p.gc("ngIf",n.isLoading),p.Ab(12),p.gc("routerLink",p.jc(3,P)),p.Ab(6),p.gc("ngForOf",n.projects))},directives:[o.j,c.i,c.u,c.h,c.L,s.h,o.i,c.m,c.n,c.s,c.f,c.e,c.l],styles:[".content[_ngcontent-%COMP%]{background-color:#f3f2f2;width:100%}.toolbar[_ngcontent-%COMP%]   .toolbar-icon[_ngcontent-%COMP%]{width:50px;background:#fff;border-radius:25px;padding:4px;margin-left:10px}.c-blank-proj[_ngcontent-%COMP%]{cursor:pointer;overflow:hidden;background-color:#fff;border-radius:10px;height:380px;width:260px;display:flex;justify-content:center;align-items:center;margin-left:5px;margin-top:15px;margin-bottom:15px}.c-blank-proj[_ngcontent-%COMP%]   .c-blank-proj1[_ngcontent-%COMP%]{text-align:center}.c-blank-proj[_ngcontent-%COMP%]   .c-blank-proj1[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:12px;margin-right:12px;text-align:start}.c-blank-proj[_ngcontent-%COMP%]   .c-blank-proj1[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:300;margin-top:15px;font-size:23px;line-height:normal}.c-blank-proj[_ngcontent-%COMP%]   .c-blank-proj1[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:smaller;font-weight:580;color:#535353}.c-blank-proj[_ngcontent-%COMP%]   .c-proj[_ngcontent-%COMP%]{width:100%;text-align:center}.c-blank-proj[_ngcontent-%COMP%]   .c-proj[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:12px;margin-right:12px;text-align:start}.c-blank-proj[_ngcontent-%COMP%]   .c-proj[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:start;font-weight:500;margin-top:15px;margin-bottom:0;font-size:23px;line-height:normal}.c-blank-proj[_ngcontent-%COMP%]   .c-proj[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:smaller;font-weight:580;color:#535353}.c-blank-proj[_ngcontent-%COMP%]   .c-proj[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:#e6e5e4;border-radius:60px;height:90px}.btn-connect[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:3%;transform:translate(-50%,-50%)}.btn-item-menu[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;position:absolute;top:30px;right:10px}.template-color[_ngcontent-%COMP%]{background-color:#662063;color:#fff}.blank-color[_ngcontent-%COMP%]{background-color:#208ef0;color:#fff}"]}),t})();const C=[{path:"",pathMatch:"full",redirectTo:"projects"},{path:"",component:(()=>{class t{constructor(t,n,e){this.cusHttp=t,this.router=n,this.popCtrl=e}ngOnInit(){}onMenu(t){return Object(r.a)(this,void 0,void 0,function*(){const n=yield this.popCtrl.create({component:a.a,event:t,componentProps:{buttons:["Templates","Logout"]}});yield n.present(),n.onDidDismiss().then(t=>Object(r.a)(this,void 0,void 0,function*(){console.log(t);const n=t.data;if(n)switch(console.log(n),n.name){case"Templates":this.router.navigateByUrl("c");break;case"Logout":this.cusHttp.onLogoutUser()}}))})}}return t.\u0275fac=function(n){return new(n||t)(p.Mb(g.a),p.Mb(s.g),p.Mb(c.K))},t.\u0275cmp=p.Gb({type:t,selectors:[["app-main-project"]],decls:8,vars:0,consts:[["color","primary",1,"toolbar"],["slot","start","src","../../../assets/icon/favicon.png",1,"toolbar-icon"],["slot","end"],[3,"click"],["slot","icon-only","name","ellipsis-vertical-outline"],[1,"container"]],template:function(t,n){1&t&&(p.Pb(0,"ion-toolbar",0),p.Nb(1,"img",1),p.Pb(2,"ion-title"),p.tc(3,"Retailgate"),p.Ob(),p.Pb(4,"ion-buttons",2),p.Pb(5,"ion-button",3),p.Xb("click",function(t){return n.onMenu(t)}),p.Nb(6,"ion-icon",4),p.Ob(),p.Ob(),p.Ob(),p.Nb(7,"ion-router-outlet",5))},directives:[c.D,c.B,c.f,c.e,c.l,c.t],styles:[".toolbar[_ngcontent-%COMP%]   .toolbar-icon[_ngcontent-%COMP%]{width:50px;background:#fff;border-radius:25px;padding:4px;margin-left:10px}.container[_ngcontent-%COMP%]{margin-top:55px}"]}),t})(),children:[{path:"projects",component:O}]}];let j=(()=>{class t{}return t.\u0275mod=p.Kb({type:t}),t.\u0275inj=p.Jb({factory:function(n){return new(n||t)},imports:[[s.i.forChild(C)],s.i]}),t})(),v=(()=>{class t{}return t.\u0275mod=p.Kb({type:t}),t.\u0275inj=p.Jb({factory:function(n){return new(n||t)},imports:[[o.b,i.e,c.E,j]]}),t})()}}]);